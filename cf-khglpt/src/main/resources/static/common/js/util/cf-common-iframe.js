function cf_getBasePath(){return window.location.protocol+"//"+window.location.host}basePath=cf_getBasePath();function cf_getDate(c){var b=new Date();this.year=b.getFullYear();this.month=b.getMonth()+1;if(month<10){month="0"+month}this.date=b.getDate();this.day=new Array("星期日","星期一","星期二","星期三","星期四","星期五","星期六")[b.getDay()];this.hour=b.getHours()<10?"0"+b.getHours():b.getHours();this.minute=b.getMinutes()<10?"0"+b.getMinutes():b.getMinutes();this.second=b.getSeconds()<10?"0"+b.getSeconds():b.getSeconds();var d="现在是:"+this.year+"年"+this.month+"月"+this.date+"日 "+this.hour+":"+this.minute+":"+this.second+" "+this.day;var a=""+this.year+this.month+this.date+this.hour+this.minute+this.second;if(1==c){return d}return a}function cf_getGenerateKey(){var b=Math.floor(Math.random()*9000)+1000;var a=cf_getDate()+b;return a}(function(a){a.ajaxSetup({complete:function(b,e){var d=b.getResponseHeader("REDIRECT");if(d=="REDIRECT"){var c=window;while(c!=c.top){c=c.top}c.location.href=_basePath}}});a.cf={req:function(b){var d={url:null,type:"post",contentType:"application/x-www-form-urlencoded",data:{},dataType:"json",cache:false,async:true,success:function(e){},error:function(g,e,f){}};var c=a.extend(d,b);a.ajax({url:basePath+c.url,type:c.type,data:c.data,contentType:c.contentType,dataType:c.dataType,cache:c.cache,async:c.async,success:c.success,error:c.error})},controlForm:function(b){var e={formId:null,method:"disabled",arrayId:null};var d=a.extend(e,b);var f=d.arrayId;var c=d.method;if(null!=f){for(i=0;i<f.length;i++){if("disabled"==c){a("#"+f[i]).find("input").attr("disabled",true).addClass("layui-btn-disabled");a("#"+f[i]).find("select").attr("disabled",true).addClass("layui-btn-disabled");a("#"+f[i]).find("textarea").attr("disabled",true).addClass("layui-btn-disabled")}if("readonly"==c){a("#"+f[i]).find("input").attr("readonly","readonly").addClass("layui-btn-disabled");a("#"+f[i]).find("select").attr("readonly","readonly").addClass("layui-btn-disabled");a("#"+f[i]).find("textarea").attr("readonly","readonly").addClass("layui-btn-disabled")}if("hide"==c){a("#"+f[i]).find("input").attr("disabled",true).addClass("layui-hide");a("#"+f[i]).find("select").attr("disabled",true).addClass("layui-hide");a("#"+f[i]).find("textarea").attr("disabled",true).addClass("layui-hide")}}return false}if("disabled"==c&&null!=d.formId){a("#"+d.formId).find("input").attr("disabled",true).addClass("layui-btn-disabled");a("#"+d.formId).find("select").attr("disabled",true).addClass("layui-btn-disabled");a("#"+d.formId).find("textarea").attr("disabled",true).addClass("layui-btn-disabled");return false}if("readonly"==c&&null!=d.formId){a("#"+d.formId).find("input").attr("readonly","readonly").addClass("layui-btn-disabled");a("#"+d.formId).find("select").attr("readonly","readonly").addClass("layui-btn-disabled");a("#"+d.formId).find("textarea").attr("readonly","readonly").addClass("layui-btn-disabled");return false}if("hide"==c&&null!=d.formId){a("#"+d.formId).find("input").attr("disabled",true).addClass("layui-hide");a("#"+d.formId).find("select").attr("disabled",true).addClass("layui-hide");a("#"+d.formId).find("textarea").attr("disabled",true).addClass("layui-hide");return false}},controlButton:function(b){var e={method:"disabled",arrayId:null};var d=a.extend(e,b);var f=d.arrayId;var c=d.method;if(null!=f){for(i=0;i<f.length;i++){if("disabled"==c){a("#"+f[i]).attr("disabled",true).addClass("layui-btn-disabled")}if("hide"==c){a("#"+f[i]).attr("disabled",true).addClass("layui-hide")}if("remove"==c){a("#"+f[i]).remove()}if("normal"==c){a("#"+f[i]).attr("disabled",false).removeClass("layui-btn-disabled");a("#"+f[i]).removeClass("layui-hide")}}return false}},modeCache:function(b){var d={dicNo:null,dicCode:null,method:1};var c=a.extend(d,b);if(1==c.method){if(_cacheInfo.sysDicCfg){return _cacheInfo.sysDicCfg[c.dicNo][c.dicCode]}}if(2==c.method){if(_cacheInfo.sysDicBusiness){return _cacheInfo.sysDicBusiness[c.dicNo][c.dicCode]}}return""},checkBoxSingle:function(b){var d={id:"",method:1,obj:""};var c=a.extend(d,b);if(1==c.method){a("#"+c.id).on("click",".layui-table-body tr",function(){a(this).find("div.layui-form-checkbox").addClass("layui-form-checked").parents("tr").siblings().find("div.layui-form-checkbox").removeClass("layui-form-checked")})}if(2==c.method){a("#"+c.id).on("click",".layui-table-body tr",function(){if(a(this).find("div.layui-form-checkbox").hasClass("layui-form-checked")){a(this).find("div.layui-form-checkbox").removeClass("layui-form-checked")}else{a(this).find("div.layui-form-checkbox").addClass("layui-form-checked")}})}}}})($);function cf_tree_getTreeSort(g,f,d){if(f&&g&&"0"!=f){var h=g.getNodeByParam("id",f,null);var j=h.children;var c=1;for(var e=0;e<j.length;e++){var b=j[e].id;if(d.id==b){break}c++}return c}else{var a=g.getNodesByParam("level",0,null);var c=1;for(var e=0;e<a.length;e++){var b=a[e].id;if(d.id==b){break}c++}return c}}function cf_tree_resetSortByReadMenuTree(c,g){var h=g.id;var f=g.pId?g.pId:0;var a=cf_tree_getTreeSort(c,f,g);var b=g.level;$.cf.req({url:"/sysMenu/modSysMenuSort",data:{id:h,pid:f,sortId:a,menuLev:b},success:function(j){}});var e=g.children;if(e&&e.length){for(var d=0;d<e.length;d++){cf_tree_resetSortByReadMenuTree(c,e[d])}}}function cf_tree_getAllChildrenNodes(d,b){var a=d.children;if(a){for(var c=0;c<a.length;c++){b+=","+a[c].id;b=getAllChildrenNodes(a[c],b)}}return b}function cf_tree_addSysMenuNode(g){var d=$.fn.zTree.getZTreeObj("sysMenuTree"),b=g.data.isParent,a=d.getSelectedNodes(),f=a[0],c=cf_getGenerateKey();if(f){f=d.addNodes(f,{id:c,pId:f.id,isParent:b,name:"新子菜单"})}else{f=d.addNodes(null,{id:c,pId:0,isParent:b,name:"新菜单"})}if(f){}else{alert("子菜单被锁定，无法增加子菜单")}return f}function modeCache(c,a,b){if(!b){b=1}if(1==b){if(_cacheInfo.sysDicCfg){return _cacheInfo.sysDicCfg[c][a]}}if(2==b){if(_cacheInfo.sysDicBusiness){return _cacheInfo.sysDicBusiness[c][a]}}return""};